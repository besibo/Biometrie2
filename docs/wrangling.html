<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Travaux Pratiques de Biométrie 2</title>
  <meta name="description" content="Ce livre est un document permettant de prendre en main les logiciels R et RStudio afin de réaliser des représentations graphiques et des statistiques descriptives simples dans le cadre des travaux pratiques de Biométrie 2.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Travaux Pratiques de Biométrie 2" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://besibo.github.io/Biometrie2/" />
  
  <meta property="og:description" content="Ce livre est un document permettant de prendre en main les logiciels R et RStudio afin de réaliser des représentations graphiques et des statistiques descriptives simples dans le cadre des travaux pratiques de Biométrie 2." />
  <meta name="github-repo" content="besibo/Biometrie2" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Travaux Pratiques de Biométrie 2" />
  
  <meta name="twitter:description" content="Ce livre est un document permettant de prendre en main les logiciels R et RStudio afin de réaliser des représentations graphiques et des statistiques descriptives simples dans le cadre des travaux pratiques de Biométrie 2." />
  

<meta name="author" content="Benoît Simon-Bouhet">


<meta name="date" content="2018-10-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="tidyr.html">
<link rel="next" href="references.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">TP de Biométrie 2</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#objectifs"><i class="fa fa-check"></i><b>1.1</b> Objectifs</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#organisation"><i class="fa fa-check"></i><b>1.2</b> Organisation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="bases.html"><a href="bases.html"><i class="fa fa-check"></i><b>2</b> R et RStudio : les bases</a><ul>
<li class="chapter" data-level="2.1" data-path="bases.html"><a href="bases.html#que-sont-r-et-rstudio"><i class="fa fa-check"></i><b>2.1</b> Que sont R et RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="bases.html"><a href="bases.html#installation-de-r-et-rstudio"><i class="fa fa-check"></i><b>2.1.1</b> Installation de R et RStudio</a></li>
<li class="chapter" data-level="2.1.2" data-path="bases.html"><a href="bases.html#utiliser-r-depuis-rstudio"><i class="fa fa-check"></i><b>2.1.2</b> Utiliser R depuis RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="bases.html"><a href="bases.html#code"><i class="fa fa-check"></i><b>2.2</b> Comment exécuter du code R ?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="bases.html"><a href="bases.html#la-console"><i class="fa fa-check"></i><b>2.2.1</b> La console</a></li>
<li class="chapter" data-level="2.2.2" data-path="bases.html"><a href="bases.html#le-repertoire-de-travail"><i class="fa fa-check"></i><b>2.2.2</b> Le répertoire de travail</a></li>
<li class="chapter" data-level="2.2.3" data-path="bases.html"><a href="bases.html#les-scripts"><i class="fa fa-check"></i><b>2.2.3</b> Les scripts</a></li>
<li class="chapter" data-level="2.2.4" data-path="bases.html"><a href="bases.html#concepts-de-base-en-programmation-et-terminologie"><i class="fa fa-check"></i><b>2.2.4</b> Concepts de base en programmation et terminologie</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="bases.html"><a href="bases.html#packages"><i class="fa fa-check"></i><b>2.3</b> Les packages additionels</a><ul>
<li class="chapter" data-level="2.3.1" data-path="bases.html"><a href="bases.html#installation-dun-package"><i class="fa fa-check"></i><b>2.3.1</b> Installation d’un package</a></li>
<li class="chapter" data-level="2.3.2" data-path="bases.html"><a href="bases.html#charger-un-package-en-memoire"><i class="fa fa-check"></i><b>2.3.2</b> Charger un package en mémoire</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="bases.html"><a href="bases.html#exercices"><i class="fa fa-check"></i><b>2.4</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataset.html"><a href="dataset.html"><i class="fa fa-check"></i><b>3</b> Explorez votre premier jeu de données</a><ul>
<li class="chapter" data-level="3.1" data-path="dataset.html"><a href="dataset.html#le-package-nycflights13"><i class="fa fa-check"></i><b>3.1</b> Le package <code>nycflights13</code></a></li>
<li class="chapter" data-level="3.2" data-path="dataset.html"><a href="dataset.html#le-data-frame-flights"><i class="fa fa-check"></i><b>3.2</b> Le data frame <code>flights</code></a></li>
<li class="chapter" data-level="3.3" data-path="dataset.html"><a href="dataset.html#explorer-un-data.frame"><i class="fa fa-check"></i><b>3.3</b> Explorer un <code>data.frame</code></a><ul>
<li class="chapter" data-level="3.3.1" data-path="dataset.html"><a href="dataset.html#View"><i class="fa fa-check"></i><b>3.3.1</b> <code>View()</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="dataset.html"><a href="dataset.html#glimpse"><i class="fa fa-check"></i><b>3.3.2</b> <code>glimpse()</code></a></li>
<li class="chapter" data-level="3.3.3" data-path="dataset.html"><a href="dataset.html#loperateur"><i class="fa fa-check"></i><b>3.3.3</b> L’opérateur <code>$</code></a></li>
<li class="chapter" data-level="3.3.4" data-path="dataset.html"><a href="dataset.html#les-fichiers-daide"><i class="fa fa-check"></i><b>3.3.4</b> Les fichiers d’aide</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dataset.html"><a href="dataset.html#exercices-1"><i class="fa fa-check"></i><b>3.4</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="viz.html"><a href="viz.html"><i class="fa fa-check"></i><b>4</b> Visualiser des données avec <code>ggplot2</code></a><ul>
<li class="chapter" data-level="4.1" data-path="viz.html"><a href="viz.html#prerequis"><i class="fa fa-check"></i><b>4.1</b> Prérequis</a></li>
<li class="chapter" data-level="4.2" data-path="viz.html"><a href="viz.html#gggraph"><i class="fa fa-check"></i><b>4.2</b> La grammaire des graphiques</a><ul>
<li class="chapter" data-level="4.2.1" data-path="viz.html"><a href="viz.html#elements-de-la-grammaire"><i class="fa fa-check"></i><b>4.2.1</b> Éléments de la grammaire</a></li>
<li class="chapter" data-level="4.2.2" data-path="viz.html"><a href="viz.html#gapminder"><i class="fa fa-check"></i><b>4.2.2</b> Gapminder</a></li>
<li class="chapter" data-level="4.2.3" data-path="viz.html"><a href="viz.html#autres-elements-de-la-grammaire-des-graphiques"><i class="fa fa-check"></i><b>4.2.3</b> Autres éléments de la grammaire des graphiques</a></li>
<li class="chapter" data-level="4.2.4" data-path="viz.html"><a href="viz.html#le-package-ggplot2"><i class="fa fa-check"></i><b>4.2.4</b> Le package <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="viz.html"><a href="viz.html#clouds"><i class="fa fa-check"></i><b>4.3</b> Les nuages de points</a><ul>
<li class="chapter" data-level="4.3.1" data-path="viz.html"><a href="viz.html#la-couche-de-base-la-fonction-ggplot"><i class="fa fa-check"></i><b>4.3.1</b> La couche de base : la fonction <code>ggplot()</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="viz.html"><a href="viz.html#ajout-dune-couche-supplementaire-lobjet-geometrique"><i class="fa fa-check"></i><b>4.3.2</b> Ajout d’une couche supplémentaire : l’objet géométrique</a></li>
<li class="chapter" data-level="4.3.3" data-path="viz.html"><a href="viz.html#exercices-2"><i class="fa fa-check"></i><b>4.3.3</b> Exercices</a></li>
<li class="chapter" data-level="4.3.4" data-path="viz.html"><a href="viz.html#over-plotting"><i class="fa fa-check"></i><b>4.3.4</b> Over-plotting</a></li>
<li class="chapter" data-level="4.3.5" data-path="viz.html"><a href="viz.html#couleur-taille-et-forme"><i class="fa fa-check"></i><b>4.3.5</b> Couleur, taille et forme</a></li>
<li class="chapter" data-level="4.3.6" data-path="viz.html"><a href="viz.html#exercices-3"><i class="fa fa-check"></i><b>4.3.6</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="viz.html"><a href="viz.html#les-graphiques-en-lignes"><i class="fa fa-check"></i><b>4.4</b> Les graphiques en lignes</a><ul>
<li class="chapter" data-level="4.4.1" data-path="viz.html"><a href="viz.html#un-nouveau-jeu-de-donnees"><i class="fa fa-check"></i><b>4.4.1</b> Un nouveau jeu de données</a></li>
<li class="chapter" data-level="4.4.2" data-path="viz.html"><a href="viz.html#exercice"><i class="fa fa-check"></i><b>4.4.2</b> Exercice</a></li>
<li class="chapter" data-level="4.4.3" data-path="viz.html"><a href="viz.html#la-fonction-geom_line"><i class="fa fa-check"></i><b>4.4.3</b> La fonction <code>geom_line()</code></a></li>
<li class="chapter" data-level="4.4.4" data-path="viz.html"><a href="viz.html#a-quel-endroit-placer-aes-et-les-arguments-color-size-etc."><i class="fa fa-check"></i><b>4.4.4</b> À quel endroit placer <code>aes()</code> et les arguments <code>color</code>, <code>size</code>, etc. ?</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="viz.html"><a href="viz.html#histogram"><i class="fa fa-check"></i><b>4.5</b> Les histogrammes</a><ul>
<li class="chapter" data-level="4.5.1" data-path="viz.html"><a href="viz.html#lobjet-geom_histogram"><i class="fa fa-check"></i><b>4.5.1</b> L’objet <code>geom_histogram()</code></a></li>
<li class="chapter" data-level="4.5.2" data-path="viz.html"><a href="viz.html#la-taille-des-classes"><i class="fa fa-check"></i><b>4.5.2</b> La taille des classes</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="viz.html"><a href="viz.html#facets"><i class="fa fa-check"></i><b>4.6</b> Les <code>facet</code>s</a><ul>
<li class="chapter" data-level="4.6.1" data-path="viz.html"><a href="viz.html#facet_wrap"><i class="fa fa-check"></i><b>4.6.1</b> <code>facet_wrap()</code></a></li>
<li class="chapter" data-level="4.6.2" data-path="viz.html"><a href="viz.html#facet_grid"><i class="fa fa-check"></i><b>4.6.2</b> <code>facet_grid()</code></a></li>
<li class="chapter" data-level="4.6.3" data-path="viz.html"><a href="viz.html#exercices-4"><i class="fa fa-check"></i><b>4.6.3</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="viz.html"><a href="viz.html#les-boites-a-moustaches-ou-boxplots"><i class="fa fa-check"></i><b>4.7</b> Les boîtes à moustaches ou boxplots</a><ul>
<li class="chapter" data-level="4.7.1" data-path="viz.html"><a href="viz.html#creation-de-boxplots-et-informations-apportees"><i class="fa fa-check"></i><b>4.7.1</b> Création de boxplots et informations apportées</a></li>
<li class="chapter" data-level="4.7.2" data-path="viz.html"><a href="viz.html#lintervalle-de-confiance-a-95-de-la-mediane"><i class="fa fa-check"></i><b>4.7.2</b> L’intervalle de confiance à 95% de la médiane</a></li>
<li class="chapter" data-level="4.7.3" data-path="viz.html"><a href="viz.html#une-autre-facon-dexaminer-des-distributions"><i class="fa fa-check"></i><b>4.7.3</b> Une autre façon d’examiner des distributions</a></li>
<li class="chapter" data-level="4.7.4" data-path="viz.html"><a href="viz.html#pour-conclure"><i class="fa fa-check"></i><b>4.7.4</b> Pour conclure</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="viz.html"><a href="viz.html#les-diagrammes-batons"><i class="fa fa-check"></i><b>4.8</b> Les diagrammes bâtons</a><ul>
<li class="chapter" data-level="4.8.1" data-path="viz.html"><a href="viz.html#representation-graphique-avec-geom_bar-et-geom_col"><i class="fa fa-check"></i><b>4.8.1</b> Représentation graphique avec <code>geom_bar</code> et <code>geom_col</code></a></li>
<li class="chapter" data-level="4.8.2" data-path="viz.html"><a href="viz.html#un-example-concret"><i class="fa fa-check"></i><b>4.8.2</b> Un example concret</a></li>
<li class="chapter" data-level="4.8.3" data-path="viz.html"><a href="viz.html#exercices-5"><i class="fa fa-check"></i><b>4.8.3</b> Exercices</a></li>
<li class="chapter" data-level="4.8.4" data-path="viz.html"><a href="viz.html#eviter-a-tout-prix-les-diagrammes-circulaires"><i class="fa fa-check"></i><b>4.8.4</b> Éviter à tout prix les diagrammes circulaires</a></li>
<li class="chapter" data-level="4.8.5" data-path="viz.html"><a href="viz.html#comparer-2-variables-categorielles-avec-un-diagramme-baton"><i class="fa fa-check"></i><b>4.8.5</b> Comparer 2 variables catégorielles avec un diagramme bâton</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="viz.html"><a href="viz.html#de-lexploration-a-lexposition"><i class="fa fa-check"></i><b>4.9</b> De l’exploration à l’exposition</a><ul>
<li class="chapter" data-level="4.9.1" data-path="viz.html"><a href="viz.html#les-labels"><i class="fa fa-check"></i><b>4.9.1</b> Les labels</a></li>
<li class="chapter" data-level="4.9.2" data-path="viz.html"><a href="viz.html#les-echelles"><i class="fa fa-check"></i><b>4.9.2</b> Les échelles</a></li>
<li class="chapter" data-level="4.9.3" data-path="viz.html"><a href="viz.html#les-themes"><i class="fa fa-check"></i><b>4.9.3</b> Les thèmes</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="viz.html"><a href="viz.html#exercices-6"><i class="fa fa-check"></i><b>4.10</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>5</b> (Ar)ranger des données avec <code>tidyr</code></a><ul>
<li class="chapter" data-level="5.1" data-path="tidyr.html"><a href="tidyr.html#prerek"><i class="fa fa-check"></i><b>5.1</b> Prérequis</a></li>
<li class="chapter" data-level="5.2" data-path="tidyr.html"><a href="tidyr.html#cest-quoi-des-tidy-data"><i class="fa fa-check"></i><b>5.2</b> C’est quoi des “tidy data” ?</a><ul>
<li class="chapter" data-level="5.2.1" data-path="tidyr.html"><a href="tidyr.html#la-fonction-gather"><i class="fa fa-check"></i><b>5.2.1</b> La fonction <code>gather()</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="tidyr.html"><a href="tidyr.html#la-fonction-spread"><i class="fa fa-check"></i><b>5.2.2</b> La fonction <code>spread()</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="tidyr.html"><a href="tidyr.html#les-fonctions-separate-et-unite"><i class="fa fa-check"></i><b>5.2.3</b> Les fonctions <code>separate()</code> et <code>unite()</code></a></li>
<li class="chapter" data-level="5.2.4" data-path="tidyr.html"><a href="tidyr.html#exercices-7"><i class="fa fa-check"></i><b>5.2.4</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tidyr.html"><a href="tidyr.html#importer-des-donnees-depuis-un-tableur"><i class="fa fa-check"></i><b>5.3</b> Importer des données depuis un tableur</a><ul>
<li class="chapter" data-level="5.3.1" data-path="tidyr.html"><a href="tidyr.html#les-regles-de-base"><i class="fa fa-check"></i><b>5.3.1</b> Les règles de base</a></li>
<li class="chapter" data-level="5.3.2" data-path="tidyr.html"><a href="tidyr.html#tableur"><i class="fa fa-check"></i><b>5.3.2</b> Fichiers au format tableur (.xls ou .xlsx)</a></li>
<li class="chapter" data-level="5.3.3" data-path="tidyr.html"><a href="tidyr.html#fichiers-au-format-texte-brut-.csv"><i class="fa fa-check"></i><b>5.3.3</b> Fichiers au format texte brut (.csv)</a></li>
<li class="chapter" data-level="5.3.4" data-path="tidyr.html"><a href="tidyr.html#exercices-8"><i class="fa fa-check"></i><b>5.3.4</b> Exercices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="wrangling.html"><a href="wrangling.html"><i class="fa fa-check"></i><b>6</b> Tripatouiller les données avec <code>dplyr</code></a><ul>
<li class="chapter" data-level="6.1" data-path="wrangling.html"><a href="wrangling.html#pre-requis"><i class="fa fa-check"></i><b>6.1</b> Pré-requis</a></li>
<li class="chapter" data-level="6.2" data-path="wrangling.html"><a href="wrangling.html#le-pipe"><i class="fa fa-check"></i><b>6.2</b> Le pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="6.3" data-path="wrangling.html"><a href="wrangling.html#les-verbes-du-tripatouillage-de-donnees"><i class="fa fa-check"></i><b>6.3</b> Les verbes du tripatouillage de données</a></li>
<li class="chapter" data-level="6.4" data-path="wrangling.html"><a href="wrangling.html#filtrer-des-lignes-avec-filter"><i class="fa fa-check"></i><b>6.4</b> Filtrer des lignes avec <code>filter()</code></a><ul>
<li class="chapter" data-level="6.4.1" data-path="wrangling.html"><a href="wrangling.html#principe"><i class="fa fa-check"></i><b>6.4.1</b> Principe</a></li>
<li class="chapter" data-level="6.4.2" data-path="wrangling.html"><a href="wrangling.html#exercice-1"><i class="fa fa-check"></i><b>6.4.2</b> Exercice</a></li>
<li class="chapter" data-level="6.4.3" data-path="wrangling.html"><a href="wrangling.html#les-conditions-logiques"><i class="fa fa-check"></i><b>6.4.3</b> Les conditions logiques</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="wrangling.html"><a href="wrangling.html#trier-des-lignes-avec-arrange"><i class="fa fa-check"></i><b>6.5</b> Trier des lignes avec <code>arrange()</code></a></li>
<li class="chapter" data-level="6.6" data-path="wrangling.html"><a href="wrangling.html#selectionner-des-variables-avec-select"><i class="fa fa-check"></i><b>6.6</b> Sélectionner des variables avec <code>select()</code></a></li>
<li class="chapter" data-level="6.7" data-path="wrangling.html"><a href="wrangling.html#creer-de-nouvelles-variables-avec-mutate"><i class="fa fa-check"></i><b>6.7</b> Créer de nouvelles variables avec <code>mutate()</code></a></li>
<li class="chapter" data-level="6.8" data-path="wrangling.html"><a href="wrangling.html#creer-des-resumes-avec-summarise-et-group_by"><i class="fa fa-check"></i><b>6.8</b> Créer des résumés avec <code>summarise()</code> et <code>group_by()</code></a></li>
<li class="chapter" data-level="6.9" data-path="wrangling.html"><a href="wrangling.html#associer-plusieurs-tableaux-avec-left_join-et-inner_join"><i class="fa fa-check"></i><b>6.9</b> Associer plusieurs tableaux avec <code>left_join()</code> et <code>inner_join()</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>Références</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publié avec bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Travaux Pratiques de Biométrie 2</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangling" class="section level1">
<h1><span class="header-section-number">6</span> Tripatouiller les données avec <code>dplyr</code></h1>
<div id="pre-requis" class="section level2">
<h2><span class="header-section-number">6.1</span> Pré-requis</h2>
<p>Nous abordons ici une étape essentielle de toute analyse de données : la manipulation de tableaux, la sélection de lignes, de colonnes, la création de nouvelles variables, etc. Bien souvent, les données brutes que nous importons dans R ne sont pas utiles en l’état. Il nous faut parfois sélectionner seulement certaines lignes pour travailler sur une petite partie du jeu de données. Il nous faut parfois modifier des variables existantes (pour modifier les unités par exemple) ou en créer de nouvelles à partir des variables existantes. Nous avons aussi très souvent besoin de constituer des groupes et d’obtenir des statistiques descriptives pour chaque groupe (moyenne, écart-type, erreur type, etc). Nous verrons dans ce chapitre comment faire tout cela grâce au package <code>dplyr</code> qui fournit un cadre cohérent et des fonctions simples permettant d’effectuer tous les tripatouillages de données dont nous pourrons avoir besoin.</p>
<p>Dans ce chapitre, nous aurons besoin des packages suivants :</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb214-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb214-3" data-line-number="3"><span class="kw">library</span>(nycflights13)</a></code></pre></div>
</div>
<div id="le-pipe" class="section level2">
<h2><span class="header-section-number">6.2</span> Le pipe <code>%&gt;%</code></h2>
<p>Avant d’entrer dans le vif du sujet, je souhaite introduire ici la notion de “pipe” (prononcer à l’anglo-saxonne). Le pipe est un opérateur que nous avons déjà vu apparaître à plusieurs reprises dans les chapitres précédents sans expliquer son fonctionnement.</p>
<p>Le pipe, noté <code>%&gt;%</code>, peut être obtenu en pressant les touches <code>ctrl + shift + M</code> de votre clavier. Il permet d’enchaîner logiquement des actions les unes à la suite des autres. Globalement, le pipe prend l’objet situé à sa gauche, et le transmet à la fonction situé à sa droite. En d’autres termes, les 2 expressions suivantes sont strictement équivalentes :</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" data-line-number="1"><span class="co"># Ici, &#39;f&#39; est une fonction quelconque, &#39;x&#39; et &#39;y&#39; sont 2 objets dont la fonction</span></a>
<a class="sourceLine" id="cb215-2" data-line-number="2"><span class="co"># a besoin.</span></a>
<a class="sourceLine" id="cb215-3" data-line-number="3"></a>
<a class="sourceLine" id="cb215-4" data-line-number="4"><span class="co"># Il s&#39;agit d&#39;un exemple fictif : ne tapez pas ceci dans votre script !</span></a>
<a class="sourceLine" id="cb215-5" data-line-number="5"><span class="kw">f</span>(x, y)</a>
<a class="sourceLine" id="cb215-6" data-line-number="6">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">f</span>(y)</a></code></pre></div>
<p>Travailler avec le pipe est très intéressant car toutes les fonctions de <code>dplyr</code> que nous allons décrire ensuite sont construites autour de la même syntaxe : on leur fournit un <code>data.frame</code> (ou encore mieux, un <code>tibble</code>), elles effectuent une opération et renvoient un nouveau <code>data.frame</code> (ou un nouveau <code>tibble</code>). Il est ainsi possible de créer des groupes de commandes cohérentes qui permettent, grâce à l’enchaînement d’étapes simples, d’aboutir à des résultats complexes.</p>
<p>De la même façon que le <code>+</code> permet d’ajouter une couche supplémentaire à un graphique <code>ggplot2</code>, le pipe <code>%&gt;%</code> permet d’ajouter une opération supplémentaire dans un groupe de commandes.</p>
<p>Pour reprendre un exemple de la section <a href="viz.html#clouds">4.3</a> sur les nuages de points, nous avions commencé par créer un objet nommé <code>alaska_flights</code> à partir de l’objet <code>flights</code> :</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1">alaska_flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(carrier <span class="op">==</span><span class="st"> &quot;AS&quot;</span>)</a></code></pre></div>
<p>Nous avions ensuite créé notre premier nuage de points avec ce code :</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> alaska_flights, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> dep_delay, <span class="dt">y =</span> arr_delay)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb217-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p>Nous savons maintenant qu’il n’est pas indispensable de faire figurer le nom des arguments <code>data =</code> et <code>mapping =</code>. Mais nous pouvons aller plus loin. En fait, il n’était même pas nécessaire de créer l’objet <code>alaska_flights</code> : nous aurions pu utiliser le pipe pour enchaîner les étapes suivantes :</p>
<ol style="list-style-type: decimal">
<li>On prend le tableau <code>flights</code>, <em>puis</em></li>
<li>On filtre les données pour ne retenir que la compagnie aérienne <code>AS</code>, <em>puis</em></li>
<li>On réalise le graphique</li>
</ol>
<p>Voilà comment traduire cela avec le pipe :</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb218-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(carrier <span class="op">==</span><span class="st"> &quot;AS&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb218-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dep_delay, <span class="dt">y =</span> arr_delay)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb218-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_point</span>()</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-93"></span>
<img src="figure/unnamed-chunk-93-1.png" alt="Notre premier graphique, produit grâce au pipe" width="90%" />
<p class="caption">
Figure 6.1: Notre premier graphique, produit grâce au pipe
</p>
</div>
<p>Notez bien qu’ici, aucun objet intermédiaire n’a été créé. Notez également que le premier argument du la fonction <code>ggplot()</code> a disparu : le pipe a fourni automatiquement à <code>ggplot()</code> les données générées au préalable (les données <code>flights</code> filtrées grâce à la fonction <code>filter</code>).</p>
<p>Comme pour le <code>+</code> de <code>ggplot2</code>, il est conseillé de placer un seul pipe par ligne, de le placer en fin de ligne et de revenir à la ligne pour préciser l’étape suivante.</p>
<p>Toutes les commandes que nous utiliserons à partir de maintenant reposeront sur le pipe puisqu’il permet de rendre le code plus lisible.</p>
</div>
<div id="les-verbes-du-tripatouillage-de-donnees" class="section level2">
<h2><span class="header-section-number">6.3</span> Les verbes du tripatouillage de données</h2>
<p>Nous allons ici nous concentrer sur les fonctions les plus courramment utilisées pour manipuler et résumer des données. Nous verrons 6 verbes principaux, chacun correspondant à une fonction précise de <code>dplyr</code>. Chaque section de ce chapitre sera consacrée à la présentation d’un example utilisant un ou plusieurs de ces verbes.</p>
<p>Les 5 verbes sont :</p>
<ol style="list-style-type: decimal">
<li><code>filter()</code> : choisir des lignes dans un tableau à partir de conditions spécifiques (filtrer).</li>
<li><code>arrange()</code> : trie les lignes d’un tableau selon un ou plusieurs critères (arranger).</li>
<li><code>select()</code> : sélectionner des colonnes d’un tableau.</li>
<li><code>mutate()</code> : créer de nouvelles variables en transformant et combinant des variables existantes (muter).</li>
<li><code>summarise()</code> : calculer des résumés statistiques des données (résumer). Souvent utilisé en combinaison avec <code>group_by()</code>, qu permet de constituer des groupes au sein des données.</li>
<li><code>join()</code> : associer, fusionner 2 <code>data.frame</code>s en faisant correspondre les éléments d’une colonne commune entre les 2 tableaux (joindre). Il y a beaucoup de fonctions permettant de joindre des tableaux de moult façons. Nous nous contenterons d’examiner les fonctions <code>left_join()</code> et <code>inner_join()</code>.</li>
</ol>
<p>Toutes ces fonctions, tous ces verbes, sont utilisés de la mêma façon : on prend un <code>data.frame</code>, grâce au pipe, on le transmet à l’une de ces fonctions dont on précise les arguments entre parenthèse. Évidemment, on peut enchaîner les actions, c’est tout l’intérêt du pipe.</p>
<p>Enfin, gardez en tête qu’il existe beaucoup plus de fonctions dans <code>dplyr</code> que les 6 que nous allons détailler ici. Nous verrons parfois quelques variantes, mais globalement, maîtriser ces 6 fonctions simples devrait vous permettre de conduire une très large gamme de manipulations de données, et ainsi vous faciliter la vie pour la production de graphiques et l’analyse statistique de vos données.</p>
</div>
<div id="filtrer-des-lignes-avec-filter" class="section level2">
<h2><span class="header-section-number">6.4</span> Filtrer des lignes avec <code>filter()</code></h2>
<div id="principe" class="section level3">
<h3><span class="header-section-number">6.4.1</span> Principe</h3>
<div class="figure" style="text-align: center"><span id="fig:filterfig"></span>
<img src="images/filter.png" alt="Schéma de la fonction `filter()` tiré de la 'cheatsheet' de `dplyr` et `tidyr`" width="50%" />
<p class="caption">
Figure 6.2: Schéma de la fonction <code>filter()</code> tiré de la ‘cheatsheet’ de <code>dplyr</code> et <code>tidyr</code>
</p>
</div>
<p>Comme son nom l’indique, <code>filter()</code> permet de filtrer des lignes en spécifiant un ou des critères de tri portant sur une ou plusieurs variables. Nous avons déjà utilisé cette fonction à plusieurs reprises pour créer les jeux de données <code>alaska_flights</code> et <code>small_weather</code> :</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" data-line-number="1">alaska_flights &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb219-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(carrier <span class="op">==</span><span class="st"> &quot;AS&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1">small_weather &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb220-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(origin <span class="op">==</span><span class="st"> &quot;EWR&quot;</span>,</a>
<a class="sourceLine" id="cb220-3" data-line-number="3">         month <span class="op">==</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb220-4" data-line-number="4">         day <span class="op">&lt;=</span><span class="st"> </span><span class="dv">15</span>)</a></code></pre></div>
<p>Dans les 2 cas, la première ligne de code nous permet :</p>
<ol style="list-style-type: decimal">
<li>d’indiquer le nom du nouvel objet dans lequel les données seront stockées (<code>alaska_flights</code> et <code>small-weather</code>)</li>
<li>d’indiquer de quel objet les données doivent être extraites (<code>flights</code> et <code>weather</code>)</li>
<li>de passer cet objet à la fonction suivante avec un pipe <code>%&gt;%</code></li>
</ol>
<p>Le premier argument de la fonction <code>filter()</code> doit être le nom d’un <code>data.frame</code> ou d’un <code>tibble</code>. Ici, puisque nous utilisons le pipe, il est inutile de spécifier cet argument : c’est ce qui est placé à gauche du pipe qui est utilisé comme premier argument de la fonction <code>filter()</code>. Les arguments suivants constitue le ou les conditions qui doivent être respectées par les lignes du tableau de départ afin d’être intégrées au nouveau tableau de données.</p>
</div>
<div id="exercice-1" class="section level3">
<h3><span class="header-section-number">6.4.2</span> Exercice</h3>
<p>Dans la section <a href="dataset.html#View">3.3.1</a>, nous avons utilisé la fonction <code>View</code> et l’application manuelle de filtres pour déterminer combien de vols avaient quitté l’aéroport JFK le 12 février 2013. En utilisant la fonction <code>filter()</code>, créez un objet nommé <code>JFK_12fev</code> qui contiendra les données de ces vols.</p>
<p>Vérifiez que cet objet contient bien 282 lignes.</p>
</div>
<div id="les-conditions-logiques" class="section level3">
<h3><span class="header-section-number">6.4.3</span> Les conditions logiques</h3>
<p>Dans la section <a href="bases.html#comparaison">2.2.4.2</a>, nous avons présenté en détail le fonctionnement des opérateurs de comparaison dans R. Relisez cette section si vous ne savez plus de quoi il s’agit. Les opérateurs de comparaison permettent de vérifier l’égalité ou l’inégalité entre des éléments. Ils renvoie <code>TRUE</code> ou <code>FALSE</code> et seront particulièrement utiles pour filtrer des lignes dans un tableau. Comme indiqué dans la section <a href="bases.html#comparaison">2.2.4.2</a>, voici la liste des opérateurs de comparaison usuels :</p>
<ul>
<li><code>==</code> : égale à</li>
<li><code>!=</code> : différent de</li>
<li><code>&gt;</code> : supérieur à</li>
<li><code>&lt;</code> : inférieur à</li>
<li><code>&gt;=</code> : supérieur ou égal à</li>
<li><code>&lt;=</code> : inférieur ou égal à</li>
</ul>
<p>À cette liste, nous pouvons ajouter quelques éléments utiles :</p>
<ul>
<li><code>is.na()</code> : renvoie <code>TRUE</code> contient des données manquantes.</li>
<li><code>!</code> : permet de tester le contraire. Par exemple <code>!is.na()</code> renvoie la liste de ce qui ne contient pas de données manquantes.</li>
<li><code>%in%</code> : permet de tester si l’élément de gauche est contenu dans la série d’éléments fournie à droite. Par exemple <code>2 %in% 1:5</code> renvoie <code>TRUE</code>, mais <code>2 %in% 5:10</code> renvoie <code>FALSE</code>.</li>
<li><code>|</code> : opérateur logique <code>OU</code>. Permet de tester qu’une condition <code>OU</code> une autre est remplie.</li>
<li><code>&amp;</code> : opérateur logique <code>ET</code>. Permet de tester qu’une condition <code>ET</code> une autre sont remplies.</li>
</ul>
<p>Voyons comment utiliser ces opérateurs avec la fonction <code>filter()</code>.</p>
<p>Dans le tableau <code>flights</code>, tous les vols prévus ont-ils effectivement décolé ? Une bonne façon de le savoir est de regarder si, pour la variable <code>dep_time</code> (heure de décollage), des données manquantes sont présentes :</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb221-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(<span class="kw">is.na</span>(dep_time))</a></code></pre></div>
<pre><code># A tibble: 8,255 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1       NA           1630        NA       NA           1815
 2  2013     1     1       NA           1935        NA       NA           2240
 3  2013     1     1       NA           1500        NA       NA           1825
 4  2013     1     1       NA            600        NA       NA            901
 5  2013     1     2       NA           1540        NA       NA           1747
 6  2013     1     2       NA           1620        NA       NA           1746
 7  2013     1     2       NA           1355        NA       NA           1459
 8  2013     1     2       NA           1420        NA       NA           1644
 9  2013     1     2       NA           1321        NA       NA           1536
10  2013     1     2       NA           1545        NA       NA           1910
# ... with 8,245 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>Il y a donc 8255 vols qui n’ont pas décollé. Dans le même ordre d’idée, y a t-il des vols qui ont décollé mais qui ne sont pas arrivés à destination ? Là encore, une façon d’obtenir cette information est de sélectionner les vols qui ont décollé (donc pour lesquels l’heure de décollage n’est pas manquante), mais pour lesquels l’heure d’atterrissage est manquante :</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb223-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb223-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(dep_time),</a>
<a class="sourceLine" id="cb223-3" data-line-number="3">         <span class="kw">is.na</span>(arr_time))</a></code></pre></div>
<pre><code># A tibble: 458 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1     2016           1930        46       NA           2220
 2  2013     1     2     2041           2045        -4       NA           2359
 3  2013     1     2     2145           2129        16       NA             33
 4  2013     1     9      615            615         0       NA            855
 5  2013     1     9     2042           2040         2       NA           2357
 6  2013     1    11     1344           1350        -6       NA           1518
 7  2013     1    13     1907           1634       153       NA           1837
 8  2013     1    13     2239           2159        40       NA             30
 9  2013     1    16      837            840        -3       NA           1030
10  2013     1    25     1452           1500        -8       NA           1619
# ... with 448 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>Notez l’utilisation du <code>!</code> pour la première condition. Cette syntaxe est équivalente à :</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb225-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb225-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(dep_time) <span class="op">&amp;</span><span class="st"> </span><span class="kw">is.na</span>(arr_time))</a></code></pre></div>
<pre><code># A tibble: 458 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1     2016           1930        46       NA           2220
 2  2013     1     2     2041           2045        -4       NA           2359
 3  2013     1     2     2145           2129        16       NA             33
 4  2013     1     9      615            615         0       NA            855
 5  2013     1     9     2042           2040         2       NA           2357
 6  2013     1    11     1344           1350        -6       NA           1518
 7  2013     1    13     1907           1634       153       NA           1837
 8  2013     1    13     2239           2159        40       NA             30
 9  2013     1    16      837            840        -3       NA           1030
10  2013     1    25     1452           1500        -8       NA           1619
# ... with 448 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>Dans la fonction <code>filter()</code>, séparer plusieurs conditions par des virgules signifie que seules les lignes qui remplissent toutes les conditions seront retenue. C’est donc l’équivalent du <code>ET</code> logique.</p>
<p>Il y a donc 458 vols qui ne sont pas arrivés à destination (soit moins de 0,2% des vols au départ de New York en 2013). Selon vous, quelles peuvent en être les raisons ?</p>
</div>
</div>
<div id="trier-des-lignes-avec-arrange" class="section level2">
<h2><span class="header-section-number">6.5</span> Trier des lignes avec <code>arrange()</code></h2>
</div>
<div id="selectionner-des-variables-avec-select" class="section level2">
<h2><span class="header-section-number">6.6</span> Sélectionner des variables avec <code>select()</code></h2>
</div>
<div id="creer-de-nouvelles-variables-avec-mutate" class="section level2">
<h2><span class="header-section-number">6.7</span> Créer de nouvelles variables avec <code>mutate()</code></h2>
</div>
<div id="creer-des-resumes-avec-summarise-et-group_by" class="section level2">
<h2><span class="header-section-number">6.8</span> Créer des résumés avec <code>summarise()</code> et <code>group_by()</code></h2>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" data-line-number="1">cancelled &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb227-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(dep_time),</a>
<a class="sourceLine" id="cb227-3" data-line-number="3">         <span class="kw">is.na</span>(arr_time)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb227-4" data-line-number="4"><span class="st">  </span><span class="kw">count</span>(carrier)</a>
<a class="sourceLine" id="cb227-5" data-line-number="5">cancelled</a></code></pre></div>
<pre><code># A tibble: 13 x 2
   carrier     n
   &lt;chr&gt;   &lt;int&gt;
 1 9E         71
 2 AA         34
 3 B6         32
 4 DL         15
 5 EV        105
 6 F9          1
 7 FL          6
 8 MQ         87
 9 UA         63
10 US         31
11 VX          4
12 WN          8
13 YV          1</code></pre>
</div>
<div id="associer-plusieurs-tableaux-avec-left_join-et-inner_join" class="section level2">
<h2><span class="header-section-number">6.9</span> Associer plusieurs tableaux avec <code>left_join()</code> et <code>inner_join()</code></h2>
<!-- ```{r, tidy=FALSE} -->
<!-- all_flights <- flights %>%  -->
<!--   count(carrier) -->
<!-- all_flights -->
<!-- left_join(all_flights, cancelled, by = "carrier") -->
<!-- inner_join(all_flights, cancelled, by = "carrier") -->
<!-- inner_join(all_flights, cancelled, by = "carrier") %>%  -->
<!--   mutate(pc = n.y * 100 / n.x) %>%  -->
<!--   arrange(desc(pc)) -->
<!-- left_join(all_flights, cancelled, by = "carrier") %>%  -->
<!--   mutate(pc = n.y * 100 / n.x) %>%  -->
<!--   arrange(desc(pc)) -->
<!-- left_join(all_flights, cancelled, by = "carrier") %>%  -->
<!--   mutate(pc = n.y * 100 / n.x) %>%  -->
<!--   ggplot(aes(x = fct_reorder(carrier, pc, .desc = TRUE), y = pc)) + -->
<!--     geom_col() + -->
<!--     labs(x = "Compagnie aérienne", -->
<!--          y = "Proportion de vols annulés après décollage (%)") -->
<!-- cancelled_origin <- flights %>%  -->
<!--   filter(!is.na(dep_time), -->
<!--          is.na(arr_time)) %>%  -->
<!--   count(carrier, origin) -->
<!-- cancelled_origin -->
<!-- all_flights_origin <- flights %>%  -->
<!--   count(carrier, origin) -->
<!-- all_flights_origin -->
<!-- left_join(all_flights_origin, cancelled_origin, by = c("carrier", "origin")) %>%  -->
<!--   mutate(pc = n.y * 100 / n.x) %>%  -->
<!--   ggplot(aes(x = fct_reorder(carrier, pc, .desc = TRUE), y = pc, fill = origin)) + -->
<!--     geom_col(color = "black") + -->
<!--     facet_wrap(~origin, ncol = 1) + -->
<!--     labs(x = "Compagnie aérienne", -->
<!--          y = "Proportion de vols annulés après décollage (%)", -->
<!--          fill = "Aéroport de\nNew York") + -->
<!--     scale_fill_brewer(palette = "Set1") -->
<!-- ``` -->
<!-- barres d'erreur -->
<!-- Vols de JFK du 12 février -->
<!-- Diamonds trop gros à la fac -->

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tidyr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
